countUp {
  x = 0;
  goto loop;
}
loop {
  forkTo afterFork; // fork off a new thread
  // call a primitive
  x = prim.incr(x);
  threshold = 5;
  going = prim.lt(x, threshold);
  goto loop if going;
}
afterFork {
  x = 5;
  y = block.sleep(x);
  z = 10;
}
