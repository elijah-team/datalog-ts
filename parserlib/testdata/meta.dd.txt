foo :- "foo".
bar :- [foo, "bla"].
digit :- [0-9].
intLit :- repSep(digit, <succeed>).
----
grammar [0-86]
  ruleDefn [0-13]
    ruleName [0-3]
    rule [7-12]
      text [7-12]
  ruleDefn [14-34]
    ruleName [14-17]
    rule [21-33]
      seq [21-33]
        rule [22-25]
          ref [22-25]
        rule [27-32]
          text [27-32]
  ruleDefn [35-50]
    ruleName [35-40]
    rule [44-49]
      charRule [44-49]
        crRange [44-49]
          singleChar [45-46]
          singleChar [47-48]
  ruleDefn [51-86]
    ruleName [51-57]
    rule [61-85]
      repSep [61-85]
        rule [68-73]
          ref [68-73]
        rule [75-84]
          succeed [75-84]
{
  "foo": {
    "type": "Text",
    "value": "foo"
  },
  "bar": {
    "type": "Sequence",
    "items": [
      {
        "type": "Ref",
        "name": "foo"
      },
      {
        "type": "Text",
        "value": "bla"
      }
    ]
  },
  "digit": {
    "type": "Char",
    "rule": {
      "type": "Range",
      "from": "0",
      "to": "9"
    }
  },
  "intLit": {
    "type": "RepSep",
    "rep": {
      "type": "Ref",
      "name": "digit"
    },
    "sep": {
      "type": "Succeed"
    }
  }
}
