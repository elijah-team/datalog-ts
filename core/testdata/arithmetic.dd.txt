add{a: 1, b: 2, res: R}.
----
application/datalog
add{a: 1, b: 2, res: 3}.

add{a: 1, b: R, res: 3}.
----
application/datalog
add{a: 1, b: 2, res: 3}.

add{a: R, b: 2, res: 3}.
----
application/datalog
add{a: 1, b: 2, res: 3}.

mul{a: 2, b: 3, res: V}.
----
application/datalog
mul{a: 2, b: 3, res: 6}.

pos{time: T, y: Y} :-
  startPos{time: T, y: Y} |
  stepPos{time: T, y: Y}.
startPos{time: 1, y: 0}.
stepPos{time: T, y: NewPos} :-
  gte{a: T, b: 1} &
  add{a: PrevTime, b: 1, res: T} &
  pos{time: PrevTime, y: PrevPos} &
  add{a: PrevPos, b: 3, res: NewPos}.
----
application/datalog

pos{time: 10, y: Y}.
----
application/datalog
pos{time: 10, y: 27}.

range{from: 1, to: 10, val: V}.
----
application/datalog
range{from: 1, to: 10, val: 10}.
range{from: 1, to: 10, val: 1}.
range{from: 1, to: 10, val: 2}.
range{from: 1, to: 10, val: 3}.
range{from: 1, to: 10, val: 4}.
range{from: 1, to: 10, val: 5}.
range{from: 1, to: 10, val: 6}.
range{from: 1, to: 10, val: 7}.
range{from: 1, to: 10, val: 8}.
range{from: 1, to: 10, val: 9}.

sim{time: T, pos: Y} :-
  range{from: 1, to: 10, val: T} &
  pos{time: T, y: Y}.
sim{time: T, pos: Y}.
----
application/datalog
sim{pos: 0, time: 1}.
sim{pos: 12, time: 5}.
sim{pos: 15, time: 6}.
sim{pos: 18, time: 7}.
sim{pos: 21, time: 8}.
sim{pos: 24, time: 9}.
sim{pos: 27, time: 10}.
sim{pos: 3, time: 2}.
sim{pos: 6, time: 3}.
sim{pos: 9, time: 4}.
